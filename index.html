<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SPICA è¨ºæ–­</title>
  <script charset="utf-8" src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <style>
    body { font-family: sans-serif; text-align: center; padding-top: 50px; }
    .loader { font-size: 18px; color: #06c755; font-weight: bold; }
  </style>
</head>
<body>
  <div class="loader">
    ğŸŒ™ æ˜Ÿã®åœ°å›³ã‚’é–‹ã„ã¦ã„ã¾ã™...<br>
    <span style="font-size:12px; color:#999;">(æ–°ç”ŸSPICA)</span>
  </div>

  <script>
    // â–¼ ä»Šå›ã®æ›¸ãæ›ãˆãƒã‚¤ãƒ³ãƒˆï¼ˆè‡ªå‹•ã§ã‚»ãƒƒãƒˆã—ã¾ã—ãŸï¼ï¼‰
    const MY_LIFF_ID = '2008882590-CYPYSTNq'; // â˜…ã‚‚ã—LINEãƒãƒ£ãƒ³ãƒãƒ«ã‚‚æ–°ã—ãä½œã‚Šç›´ã—ã¦ã„ãŸã‚‰ã€ã“ã“ã®IDã‚‚æ›¸ãæ›ãˆã¦ãã ã•ã„ï¼
    const GOOGLE_FORM_URL = 'https://docs.google.com/forms/d/e/1FAIpQLSfB_GdsO9J8Fs8LthbuvcnIzSf-mf3yhkeTORoFWLFGEyseJg/viewform';
    const ENTRY_ID = 'entry.1933305278';

    window.onload = function() {
      liff.init({ liffId: MY_LIFF_ID })
        .then(() => {
          if (!liff.isLoggedIn()) {
            liff.login();
          } else {
            liff.getProfile().then(profile => {
              // ãƒ•ã‚©ãƒ¼ãƒ ã¸è»¢é€
              const finalUrl = `${GOOGLE_FORM_URL}?usp=pp_url&${ENTRY_ID}=${profile.userId}`;
              window.location.replace(finalUrl);
            });
          }
        })
        .catch(err => {
          document.body.innerHTML = '<p style="color:red">ã‚¨ãƒ©ãƒ¼:<br>' + err + '</p>';
        });
    };
  </script>
</body>
</html>
